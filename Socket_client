import socket,sys
HOST = '127.0.0.1'
PORT = 7000

try:
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
except socket.error:
    sys.stderr.write('[ERROR]')
    sys.exit()

client.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) #重設tcp

while True:

    try:
        client.connect((HOST,PORT))
    except socket.error:
        sys.stderr.write('[ERROR]')
        exit()

    data = input("Please input msg:")
    data = str(data)
    client.send(data.encode('utf-8')) #傳回
    info = client.recv(1024)
    print(info.decode("utf-8"))

client.close()
